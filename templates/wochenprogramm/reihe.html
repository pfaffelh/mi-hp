{% extends 'base.html' %} {% block navbar %} {% include 'navbar.html' %} {%
endblock %} {% block content %}

<div class="container py-4" id="inhalt">
  <h2>{{ data['reihe']}}</h2>
  {% if data['prefix'] != "" %}
  <p>{{ data['prefix']|markdown }}</p>
  {% endif %}

  <div class="container py-4">
    <div class="row">
      <div class="col">
        <a
          href="{{url_for('showvortragsreihe', lang=lang, kurzname = kurzname, anfang = data['anfanglastweek'])}}"
          class="btn btn-primary bg-ufr-blue link-dark"
          role="button"
          aria-disabled="true"
        >
          <<
        </a>
        <a
          href="{{url_for('showvortragsreihe', lang=lang, kurzname = kurzname, anfang = data['end'])}}"
          class="btn btn-primary bg-ufr-blue link-dark"
          role="button"
          aria-disabled="true"
        >
          >>
        </a>
      </div>
    </div>
  </div>
  <h5>
    {% if lang == "de" %} Woche: {{ data['anfangf'] }} - {{ data['endf'] }} {%
    else %} {% endif %}
  </h5>
  {% for v in data["vortrag"] %} {% set modal_index = namespace(value=0) %}

  <div
    class="col-md-12 col-sm-12 d-flex align-items-stretch justify-content-start px-0"
  >
    <!-- Modal Buttons -->
    <button
      type="button"
      class="btn btn-primary w-100 h-100 lecture-module-button text-start"
      data-bs-toggle="modal"
      data-bs-target="#modal-{{modal_index.value}}"
      style="font-size: 110%"
    >
      {% if v["reihentitle"] != ""%}
      <p style="font-weight: bold">{{ v["reihentitle"]}}</p>
      {% endif %}
      <p style="margin-bottom: 5px">
        {{ v["tag"] }}, {{ v["datum"] }}, {{ v["startzeit"] }}{% if v["endzeit"]
        != v["startzeit"] %}-{{ v["endzeit"]}}{% endif %}, {{ v["ort"] }}:
      </p>
      <p style="font-weight: bold; margin-bottom: 5px">
        {{ v["sprecher"] }}{% if v["sprecher_affiliation"] != "" %}({{
        v["sprecher_affiliation"] }}){% endif %}:
      </p>
      {{ v['title'] }}
    </button>
  </div>

  <!-- Modals -->
  <div
    class="modal fade"
    id="modal-{{modal_index.value}}"
    tabindex="-1"
    aria-labelledby="modalLabel-{{modal_index.value}}"
    aria-hidden="true"
    data-bs-backdrop="true"
  >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <!-- Header -->
        <div class="modal-header">
          {% if v['url'] != "" %}
          <h4 class="modal-title" id="modalLabel-{{modal_index.value}}">
            <a href="{{ v['url'] | safe}}"> {{ v['title']|markdown }} </a>
          </h4>

          <a
            class="btn btn-outline-primary active bg-white"
            style="border-color: #004a99"
            href="{{ v['url'] }}"
            role="button"
          >
            <i class="fa-solid fa-link" style="color: #004a99"></i>
          </a>
          {% else %}
          <h4 style="color: black">{{ v['title']|markdown }}</h4>
          {% endif %}
        </div>

        <!-- Body -->
        <div class="modal-body">
          <div>
            <h5 class="h5">
              {% if lang == "de" %}Zusammenfassung{% else %}Abstract{% endif %}
            </h5>
            <p>{{ v["abstract"] }}</p>
            {% if v["kommentar"] %}
            <i>{{ v["kommentar"]|markdown }}</i> {% endif %}
          </div>
        </div>

        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          {% if lang == 'de' %} Schlie√üen {% elif lang == 'en' %} Close {% endif
          %}
        </button>
      </div>
      {% set modal_index.value = modal_index.value + 1 %} {% endfor %}
    </div>
  </div>

  {% endblock %} {% block js %} {% endblock %}
</div>
